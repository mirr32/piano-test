<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ト音記号・ヘ音記号の音の位置一覧</title>
  <style>
    :root {
      font-family: "Noto Sans JP", "Hiragino Kaku Gothic ProN", "Yu Gothic", sans-serif;
      color: #1f2937;
      background: #f8fafc;
    }

    body {
      margin: 0;
      padding: 24px;
    }

    .container {
      max-width: 960px;
      margin: 0 auto;
      background: #ffffff;
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 10px 20px rgba(15, 23, 42, 0.08);
    }

    h1 {
      font-size: 24px;
      margin: 0 0 8px;
    }

    p {
      color: #475569;
      line-height: 1.7;
    }

    a {
      color: #1d4ed8;
      font-weight: 600;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    .staff-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin-top: 24px;
    }

    .staff-card {
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 14px;
      padding: 16px;
    }

    .staff-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 12px;
    }

    .note-list {
      margin-top: 12px;
      display: grid;
      gap: 6px;
      font-size: 14px;
      color: #475569;
    }

    .note-item {
      display: flex;
      justify-content: space-between;
      border-bottom: 1px dashed #e2e8f0;
      padding-bottom: 4px;
    }

    .note-item span:first-child {
      font-weight: 600;
      color: #1e293b;
    }
  </style>
</head>
<body>
  <main class="container">
    <h1>ト音記号・ヘ音記号の五線譜と音の位置一覧</h1>
    <p>
      五線譜の各線・間がどの音を表すかを、ト音記号（右手）・ヘ音記号（左手）でまとめました。
      どの音がどこにあるかを視覚的に確認できます。
    </p>
    <p><a href="index.html">音名クイズに戻る</a></p>

    <section class="staff-grid">
      <article class="staff-card">
        <div class="staff-title">ト音記号</div>
        <svg id="treble-staff" width="100%" height="220" viewBox="0 0 320 220" aria-label="ト音記号の五線譜" role="img"></svg>
        <div class="note-list" id="treble-list"></div>
      </article>

      <article class="staff-card">
        <div class="staff-title">ヘ音記号</div>
        <svg id="bass-staff" width="100%" height="220" viewBox="0 0 320 220" aria-label="ヘ音記号の五線譜" role="img"></svg>
        <div class="note-list" id="bass-list"></div>
      </article>
    </section>
  </main>

  <script>
    const staffData = [
      {
        id: "treble-staff",
        listId: "treble-list",
        name: "ト音記号",
        clefSymbol: "",
        notes: [
          { step: 0, name: "ファ", label: "F5" },
          { step: 1, name: "ミ", label: "E5" },
          { step: 2, name: "レ", label: "D5" },
          { step: 3, name: "ド", label: "C5" },
          { step: 4, name: "シ", label: "B4" },
          { step: 5, name: "ラ", label: "A4" },
          { step: 6, name: "ソ", label: "G4" },
          { step: 7, name: "ファ", label: "F4" },
          { step: 8, name: "ミ", label: "E4" }
        ]
      },
      {
        id: "bass-staff",
        listId: "bass-list",
        name: "ヘ音記号",
        clefSymbol: "",
        notes: [
          { step: 0, name: "ラ", label: "A3" },
          { step: 1, name: "ソ", label: "G3" },
          { step: 2, name: "ファ", label: "F3" },
          { step: 3, name: "ミ", label: "E3" },
          { step: 4, name: "レ", label: "D3" },
          { step: 5, name: "ド", label: "C3" },
          { step: 6, name: "シ", label: "B2" },
          { step: 7, name: "ラ", label: "A2" },
          { step: 8, name: "ソ", label: "G2" }
        ]
      }
    ];

    const lineSpacing = 18;
    const staffTop = 40;
    const staffLeft = 40;
    const staffWidth = 200;
    const labelOffset = 24;

    function createSVGElement(tag, attributes = {}) {
      const element = document.createElementNS("http://www.w3.org/2000/svg", tag);
      Object.entries(attributes).forEach(([key, value]) => {
        element.setAttribute(key, value);
      });
      return element;
    }

    function renderStaffLines(svg) {
      for (let i = 0; i < 5; i += 1) {
        const y = staffTop + i * lineSpacing;
        const line = createSVGElement("line", {
          x1: staffLeft,
          x2: staffLeft + staffWidth,
          y1: y,
          y2: y,
          stroke: "#111827",
          "stroke-width": "2"
        });
        svg.appendChild(line);
      }
    }

    function stepToY(step) {
      return staffTop + step * (lineSpacing / 2);
    }

    function renderNotes(svg, config) {
      const noteX = staffLeft + 110;
      const labelXRight = staffLeft + staffWidth + labelOffset;
      const labelXLeft = staffLeft - labelOffset;

      config.notes.forEach((note) => {
        const y = stepToY(note.step);
        const head = createSVGElement("ellipse", {
          cx: noteX,
          cy: y,
          rx: 9,
          ry: 6.5,
          fill: "#111827"
        });
        svg.appendChild(head);

        const isLineNote = note.step % 2 === 0;
        const labelX = isLineNote ? labelXLeft : labelXRight;
        const label = createSVGElement("text", {
          x: labelX,
          y: y + 4,
          "font-size": "12",
          fill: "#1f2937",
          "text-anchor": isLineNote ? "end" : "start"
        });
        label.textContent = `${note.name} / ${note.label}`;
        svg.appendChild(label);
      });
    }

    function renderClef(svg, symbol) {
      const clef = createSVGElement("text", {
        x: 8,
        y: staffTop + lineSpacing * 3,
        "font-size": "48",
        fill: "#111827"
      });
      clef.textContent = symbol;
      svg.appendChild(clef);
    }

    function renderList(listElement, notes) {
      listElement.innerHTML = "";
      notes.forEach((note) => {
        const row = document.createElement("div");
        row.className = "note-item";
        row.innerHTML = `<span>${note.name}</span><span>${note.label}</span>`;
        listElement.appendChild(row);
      });
    }

    staffData.forEach((config) => {
      const svg = document.getElementById(config.id);
      const list = document.getElementById(config.listId);
      renderStaffLines(svg);
      renderClef(svg, config.clefSymbol);
      renderNotes(svg, config);
      renderList(list, config.notes);
    });
  </script>
</body>
</html>
